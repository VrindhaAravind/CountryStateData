<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body style="background-color: darkcyan;">
  <h2 style="font-family: fantasy; color: rgb(152, 187, 185); text-align: center;">SELECT YOUR COUNTRY</h2>
  <div class='jumbotron mt-5' style="background-color: darkcyan; color: white;">
    <div class='container'>
      <div class='row '>
        <div class='col-md-6 '>
          <p><b>NAME</b></p>
        </div>
        <div class='col-md-6 '>
          <input class="form-control" type="text" placeholder="Name">
        </div>
      </div>
      <div class='row '>
        <div class='col-md-6 '>
          <p><b>EMAIL</b></p>
        </div>
        <div class='col-md-6 '>
          <input class="form-control" type="email" placeholder="Email">
        </div>
      </div>
      <!-- country -->
      <div class='row '>
        <div class='col-md-6 '>
          <p><b>COUNTRY</b></p>
        </div>
        <div class='col-md-6 '>
          <select id="country" class='form-control'>
            <option value="">-- Country --</option>
          </select>
        </div>
      </div> <!-- end country row -->

      <!-- region -->
      <div class='row w3-margin-bottom'>
        <div class='col-md-6 '>
          <p><b>REGION</b></p>
        </div>
        <div class='col-md-6 '>
          <select id="region" class='form-control'>
            <option value="">-- Region --</option>
          </select>
        </div>
      </div> <!-- end region row -->
<div cla="row">
  <button style="margin-top: 10px; margin-left: 40%; color: black;" class="btn btn-dark" type="submit">Submit</button>

</div>

      <div id='location'></div>
    </div> <!-- end container -->
  </div> <!-- end jumbotron -->
  <!-- footer -->
  <script>
    $(document).ready(function () {
      //-------------------------------SELECT CASCADING-------------------------//
      var selectedCountry = (selectedRegion = selectedCity = countryCode = "");
      var BATTUTA_KEY = "b48eabc82f30a02ac403be534b613113";
      // Populate country select box from battuta API
      url = "https://battuta.medunes.net/api/country/all/?key=" + BATTUTA_KEY + "&callback=?";

      // EXTRACT JSON DATA.
      $.getJSON(url, function (data) {
        console.log(data);
        $.each(data, function (index, value) {
          // APPEND OR INSERT DATA TO SELECT ELEMENT. Set the country code in the id section rather than in the value.
          $("#country").append(
            '<option id="' +
            value.code +
            '" value="' +
            value.name +
            '">' +
            value.name +
            "</option>"
          );
        });
      });
      // Country selected --> update region list .
      $("#country").change(function () {
        selectedCountry = this.options[this.selectedIndex].text;
        // get the id of the option which has the country code.
        countryCode = $(this)
          .children(":selected")
          .attr("id");
        // Populate country select box from battuta API
        url = "https://battuta.medunes.net/api/region/" + countryCode + "/all/?key=" + BATTUTA_KEY + "&callback=?";
        $.getJSON(url, function (data) {
          $("#region option").remove();
          $('#region').append('<option value="">Please select your region</option>');
          $.each(data, function (index, value) {
            // APPEND OR INSERT DATA TO SELECT ELEMENT.
            $("#region").append(
              '<option value="' + value.region + '">' + value.region + "</option>"
            );
          });
        });
      });

  </script>

</body>

</html>
